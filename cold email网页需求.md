# Cold Email 网页项目需求文档

## 项目概述
创建一个网站，用于生成申请研究助理职位的英文cold email。用户输入个人信息后，调用Coze工作流API生成专业的邮件内容。

## 功能需求

### 1. 用户信息输入表单

#### 个人信息（可保存）
**必填字段：**
- Name（姓名）
- School（学校）
- Grade（年级）
- Academic_Background（学术背景）
- Major（专业）

**可选字段：**
- Research_Experience（研究经验）
- Skill（技能）
- Interest_Area（兴趣领域）

#### 目标实验室（不保存）
**批量输入功能：**
- 支持同时输入多个实验室网站（最多5个）
- 动态添加/删除实验室网站输入框
- URL格式验证和去重处理
- 批量生成对应的邮件

### 2. 个人信息保存功能
- 用户可以保存个人信息（不包括实验室网站）
- 支持多个个人信息的创建和管理
- 下次使用时可以快速加载已保存的个人信息
- 支持编辑和删除已保存的个人信息
- 实验室网站每次需要单独填写，不会被保存

### 3. 历史记录功能
- 记录每次生成的email内容
- 显示生成时间和使用的信息模板
- 支持查看、复制和删除历史记录
- 历史记录按时间倒序排列

### 4. Email生成功能

#### 单个邮件生成
- 调用Coze工作流API生成email
- 显示生成进度/加载状态
- 展示生成的email内容
- 支持一键复制email内容
- 错误处理和用户友好的错误提示

#### 批量邮件生成
- 支持一次为多个实验室（最多5个）生成邮件
- 并发API调用提高生成速度
- 实时显示批量生成进度（"正在生成第2/4封邮件..."）
- 每个实验室的邮件与其网址配对显示
- 部分失败的优雅处理（某个实验室失败不影响其他）
- 支持失败邮件的重新生成
- 批量操作功能（全选复制、批量保存等）

### 5. 用户界面设计
- **主题色彩：** 浅蓝色系
- **设计风格：** 简洁、现代
- **响应式设计：** 支持桌面和移动端
- **用户体验：** 直观易用的操作流程

## 技术架构

### 前端技术栈
- HTML5 + CSS3 + JavaScript
- 响应式布局
- 本地存储（localStorage）用于保存用户数据

### 后端技术栈
- Node.js + Express
- RESTful API设计
- Coze工作流API集成

### 数据存储
- 前端：localStorage存储用户模板和历史记录
- 后端：内存存储（可扩展为数据库）

## 页面结构

### 1. 主页面
- 用户信息输入表单
- 保存/加载模板功能
- 生成email按钮
- 结果显示区域

### 2. 历史记录页面
- 历史记录列表
- 记录详情查看
- 删除功能

### 3. 设置页面（可选）
- 模板管理
- API配置

## API集成需求

### Coze工作流API
- **输入参数：** 根据工作流定义的9个字段
- **输出：** 生成的英文cold email内容
- **认证：** API Key认证
- **错误处理：** 网络错误、API错误的友好提示

## 用户体验流程

1. **首次使用：**
   - 填写个人信息表单
   - 选择保存为模板（可选）
   - 点击生成email
   - 查看和复制结果

2. **再次使用：**
   - 加载已保存的模板
   - 修改特定字段（如实验室网站）
   - 生成新的email
   - 查看历史记录

## 技术实现要点

### 前端
- 表单验证和用户输入处理
- 本地数据存储和管理
- API调用和状态管理
- 响应式UI组件

### 后端
- Express服务器搭建
- Coze API代理和错误处理
- CORS配置
- 请求参数验证

## 部署方案
- **前端：** Vercel/Netlify静态部署
- **后端：** Vercel Functions或Heroku
- **域名：** 自定义域名（可选）

## 安全考虑
- API Key安全存储（环境变量）
- 输入数据验证和清理
- HTTPS部署
- 用户数据本地存储（隐私保护）

## 扩展功能（未来版本）
- 用户账户系统
- 云端数据同步
- 多语言支持
- Email模板自定义
- 批量生成功能
- 导出功能（PDF/Word）

## 开发优先级
1. **Phase 1：** 基础表单和API集成
2. **Phase 2：** 本地存储和模板功能
3. **Phase 3：** 历史记录功能
4. **Phase 4：** UI优化和响应式设计
5. **Phase 5：** 错误处理和用户体验优化

## 测试需求
- 表单输入验证测试
- API集成测试
- 本地存储功能测试
- 跨浏览器兼容性测试
- 移动端响应式测试
